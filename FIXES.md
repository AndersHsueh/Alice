# ä¸­æ–‡è¾“å…¥ä¿®å¤è¯´æ˜

## ğŸ”§ ä¿®å¤å†…å®¹

### 1. InputBox ç»„ä»¶æ”¹è¿›
- âœ… ä½¿ç”¨ `Array.from()` æ­£ç¡®å¤„ç† Unicode å­—ç¬¦
- âœ… é€€æ ¼é”®ä¸€æ¬¡åˆ é™¤ä¸€ä¸ªå®Œæ•´å­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸­æ–‡ï¼‰
- âœ… æ·»åŠ  `key.escape` è¿‡æ»¤ï¼Œé¿å…è¯¯è¾“å…¥
- âœ… å…‰æ ‡é—ªçƒæ•ˆæœä¼˜åŒ–

### 2. ChatArea ç»„ä»¶ä¼˜åŒ–
- âœ… æ·»åŠ  `wrap="wrap"` è‡ªåŠ¨æ¢è¡Œ
- âœ… æ”¹ç”¨ `flexDirection="column"` æ”¯æŒé•¿æ–‡æœ¬
- âœ… ä¼˜åŒ–ç©ºçŠ¶æ€å±…ä¸­æ˜¾ç¤º

### 3. ä¾èµ–æ›´æ–°
```bash
npm install string-width strip-ansi
```

## ğŸ¯ æ ¸å¿ƒä¿®æ”¹

**ä¹‹å‰çš„é—®é¢˜ï¼š**
```typescript
// âŒ é”™è¯¯ï¼šslice æŒ‰å­—èŠ‚åˆ‡å‰²ï¼Œä¼šç ´åå¤šå­—èŠ‚å­—ç¬¦
setInput(prev => prev.slice(0, -1));
```

**ä¿®å¤åï¼š**
```typescript
// âœ… æ­£ç¡®ï¼šæŒ‰å­—ç¬¦åˆ‡å‰²ï¼Œæ­£ç¡®å¤„ç†ä¸­æ–‡
setInput(prev => {
  const chars = Array.from(prev);  // è½¬ä¸ºå­—ç¬¦æ•°ç»„
  return chars.slice(0, -1).join('');  // åˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦
});
```

## ğŸ“ æµ‹è¯•éªŒè¯

### æµ‹è¯•ç”¨ä¾‹
1. **çº¯ä¸­æ–‡è¾“å…¥**
   ```
   è¾“å…¥ï¼šä½ å¥½ä¸–ç•Œ
   é€€æ ¼ï¼šä½ å¥½ä¸–
   ```

2. **ä¸­è‹±æ–‡æ··åˆ**
   ```
   è¾“å…¥ï¼šHello ä¸–ç•Œ
   é€€æ ¼ï¼šHello ä¸–
   ```

3. **emoji å­—ç¬¦**
   ```
   è¾“å…¥ï¼šğŸ‰æµ‹è¯•ğŸš€
   é€€æ ¼ï¼šğŸ‰æµ‹è¯•
   ```

4. **å¤šå­—èŠ‚å­—ç¬¦**
   ```
   è¾“å…¥ï¼šã“ã‚“ã«ã¡ã¯ï¼ˆæ—¥æ–‡ï¼‰
   é€€æ ¼ï¼šã“ã‚“ã«ã¡
   ```

## ğŸš€ ç«‹å³æµ‹è¯•

```bash
npm run dev
```

ç„¶åå°è¯•ï¼š
```
> ä½ å¥½ ALICE
> å¸®æˆ‘æ•´ç†æ–‡æ¡£
> æµ‹è¯•ä¸­æ–‡å­—ç¬¦åˆ é™¤åŠŸèƒ½
```

## âœ¨ å…³é”®ç‚¹

1. **JavaScript å­—ç¬¦ä¸²é™·é˜±**
   - String.length è¿”å›çš„æ˜¯ UTF-16 ä»£ç å•å…ƒæ•°ï¼Œä¸æ˜¯å­—ç¬¦æ•°
   - ä¸­æ–‡ã€emoji ç­‰å¯èƒ½å å¤šä¸ªä»£ç å•å…ƒ
   - ä½¿ç”¨ `Array.from()` æˆ– `[...str]` è½¬æ¢ä¸ºçœŸå®å­—ç¬¦æ•°ç»„

2. **ink æ¡†æ¶ä¼˜åŠ¿**
   - è‡ªåŠ¨å¤„ç†ç»ˆç«¯ç¼–ç 
   - æ­£ç¡®è®¡ç®—å­—ç¬¦æ˜¾ç¤ºå®½åº¦
   - æ”¯æŒå…¨ Unicode å­—ç¬¦é›†

3. **ç”¨æˆ·ä½“éªŒ**
   - é€€æ ¼ä¸€æ¬¡åˆ é™¤ä¸€ä¸ª"æ˜¾ç¤ºå­—ç¬¦"ï¼ˆç”¨æˆ·æ„ŸçŸ¥ï¼‰
   - è€Œä¸æ˜¯ä¸€ä¸ª"å­—èŠ‚"æˆ–"ä»£ç å•å…ƒ"

## ğŸ“š å‚è€ƒèµ„æ–™

- [JavaScript Unicode å¤„ç†](https://mathiasbynens.be/notes/javascript-unicode)
- [Array.from() MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from)
- [ink æ–‡æ¡£](https://github.com/vadimdemedes/ink)
