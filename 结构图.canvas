{
	"nodes":[
		{"id":"group_core","type":"group","x":1100,"y":-480,"width":980,"height":720,"color":"3","label":"Core Layer"},
		{"id":"group_daemon","type":"group","x":120,"y":-480,"width":940,"height":720,"color":"6","label":"Daemon Layer  (VERONICA)"},
		{"id":"group_cli","type":"group","x":-820,"y":-480,"width":900,"height":720,"color":"5","label":"CLI Layer"},
		{"id":"group_providers","type":"group","x":2125,"y":-480,"width":895,"height":500,"color":"1","label":"Providers"},
		{"id":"group_tools","type":"group","x":690,"y":320,"width":1070,"height":360,"color":"2","label":"Tools  (11 built-in)"},
		{"id":"group_skills","type":"group","x":3080,"y":-480,"width":380,"height":720,"color":"4","label":"Skills  (~/.agents/skills/)"},
		{"id":"node_events","type":"text","text":"## EventSystem\n发布 / 订阅","x":1130,"y":-460,"width":380,"height":120},
		{"id":"node_entry","type":"text","text":"## index.tsx\n`alice` CLI 入口","x":-760,"y":-440,"width":280,"height":80},
		{"id":"node_app","type":"text","text":"## App.tsx\n状态管理 · 事件驱动","x":-760,"y":-220,"width":280,"height":80},
		{"id":"node_config_main","type":"text","text":"## settings.jsonc\n模型 · UI · 快捷键 · workspace","x":1440,"y":-650,"width":340,"height":100,"color":"2"},
		{"id":"node_tools_builtin","type":"text","text":"readFile · writeFile · editFile\nlistFiles · searchFiles\ngetCurrentDirectory · getGitInfo\ngetCurrentDateTime · executeCommand\naskUser · loadSkill","x":740,"y":360,"width":780,"height":280},
		{"id":"node_llm","type":"text","text":"## LLMClient\nstreamWithTools · 降级 suggest_model","x":1320,"y":-230,"width":580,"height":120},
		{"id":"node_layout","type":"text","text":"## ChatLayout\nHeader · ChatArea · InputBox","x":-330,"y":-440,"width":290,"height":140},
		{"id":"node_veronica","type":"text","text":"## VERONICA  (常驻 Daemon)\nserver · routes · processManager","x":660,"y":-440,"width":340,"height":80,"color":"6"},
		{"id":"node_session","type":"text","text":"## Session\n持久化 · 消息历史","x":435,"y":55,"width":250,"height":130},
		{"id":"node_chathandler","type":"text","text":"## chatHandler\nchatStreamWithTools 主循环","x":390,"y":-250,"width":340,"height":140},
		{"id":"node_executor","type":"text","text":"## ToolExecutor\nAJV 校验 · 执行","x":685,"y":-80,"width":355,"height":110},
		{"id":"node_systemp","type":"text","text":"## system_prompt.md\n~/agents/","x":380,"y":-650,"width":360,"height":100,"color":"5"},
		{"id":"node_config_daemon","type":"text","text":"## daemon_settings.jsonc\ntransport · socket · heartbeat","x":670,"y":-780,"width":320,"height":100,"color":"6"},
		{"id":"node_skillmgr","type":"text","text":"## SkillManager\nDiscover · Load","x":1720,"y":-440,"width":310,"height":120},
		{"id":"node_providers_list","type":"text","text":"**本地**\nLM Studio · Ollama\n\n**云端**\nOpenAI · Azure · Anthropic\nGoogle · Mistral · xAI\n\n统一 BaseProvider 接口","x":2180,"y":-297,"width":400,"height":255},
		{"id":"node_mcp","type":"text","text":"## MCP\nStdio · ToolRegistry 桥接","x":1130,"y":-80,"width":380,"height":110},
		{"id":"node_ndjson","type":"text","text":"## NDJSON Stream\n事件协议输出","x":145,"y":-80,"width":245,"height":110,"color":"6"},
		{"id":"node_logger","type":"text","text":"## Logger\n结构化日志","x":145,"y":55,"width":245,"height":130},
		{"id":"node_skills_list","type":"text","text":"obsidian-markdown\njson-canvas\nobsidian-bases · obsidian-cli\nskill-creator\nfeishu-connection\nui-ux-designer\n生成金碧概览  ···","x":3120,"y":-460,"width":300,"height":160},
		{"id":"node_experience","type":"text","text":"## Experience System  (规划中)\n~/.alice/experiences/  stage 1-4","x":2125,"y":80,"width":895,"height":160,"color":"3"},
		{"id":"node_daemonclient","type":"text","text":"## DaemonClient\nHTTP · Unix Socket","x":-330,"y":-280,"width":290,"height":120},
		{"id":"node_genstatus","type":"text","text":"## GeneratingStatus\n⬡ Processing / Generating / Tool","x":-330,"y":40,"width":290,"height":120,"color":"5"},
		{"id":"node_statusbar","type":"text","text":"## StatusBar\n连接 · Token · 工具","x":-330,"y":-110,"width":290,"height":120},
		{"id":"node_theme","type":"text","text":"## Theme\n#00D9FF 主色系","x":-760,"y":55,"width":310,"height":120}
	],
	"edges":[
		{"id":"e_entry_app","fromNode":"node_entry","fromSide":"bottom","toNode":"node_app","toSide":"top"},
		{"id":"e_client_veronica","fromNode":"node_daemonclient","fromSide":"right","toNode":"node_veronica","toSide":"left","color":"5","label":"HTTP / Unix Socket"},
		{"id":"e_veronica_handler","fromNode":"node_veronica","fromSide":"bottom","toNode":"node_chathandler","toSide":"top"},
		{"id":"e_handler_session","fromNode":"node_chathandler","fromSide":"bottom","toNode":"node_session","toSide":"top"},
		{"id":"e_ndjson_client","fromNode":"node_ndjson","fromSide":"left","toNode":"node_daemonclient","toSide":"right","color":"6","label":"text · tool_call · done"},
		{"id":"e_handler_llm","fromNode":"node_chathandler","fromSide":"right","toNode":"node_llm","toSide":"left","color":"3","label":"chatStreamWithTools"},
		{"id":"e_executor_tools","fromNode":"node_executor","fromSide":"bottom","toNode":"node_tools_builtin","toSide":"top","color":"2"},
		{"id":"896485465b533487","fromNode":"node_skillmgr","fromSide":"right","toNode":"node_skills_list","toSide":"left","color":"4"},
		{"id":"3955da7faff8df55","fromNode":"node_app","fromSide":"right","toNode":"node_layout","toSide":"left"},
		{"id":"9c8fce1eabd3e991","fromNode":"node_app","fromSide":"right","toNode":"node_statusbar","toSide":"left"},
		{"id":"31b2c979ef14dd8f","fromNode":"node_app","fromSide":"right","toNode":"node_genstatus","toSide":"left"},
		{"id":"f9be4bc47dc1734b","fromNode":"node_app","fromSide":"right","toNode":"node_daemonclient","toSide":"left"},
		{"id":"c971fe7532da318c","fromNode":"node_llm","fromSide":"right","toNode":"node_providers_list","toSide":"left","color":"1","label":"BaseProvider"},
		{"id":"186cbd5f53ea5cd9","fromNode":"node_mcp","fromSide":"bottom","toNode":"node_tools_builtin","toSide":"top","color":"2","label":"mcp__{server}__{tool}"},
		{"id":"d93e955b27aa7cd8","fromNode":"node_chathandler","fromSide":"bottom","toNode":"node_ndjson","toSide":"right","color":"5","label":"stream events"},
		{"id":"fb0daf1230df62e9","fromNode":"node_chathandler","fromSide":"bottom","toNode":"node_executor","toSide":"left"},
		{"id":"3b4ac611ff52779f","fromNode":"node_systemp","fromSide":"bottom","toNode":"node_chathandler","toSide":"top","color":"5","label":"system prompt"},
		{"id":"172bb61dd591ab6e","fromNode":"node_config_main","fromSide":"bottom","toNode":"node_llm","toSide":"top","color":"3"},
		{"id":"84ca49fda7484df7","fromNode":"node_config_daemon","fromSide":"bottom","toNode":"node_veronica","toSide":"top","color":"5"}
	]
}