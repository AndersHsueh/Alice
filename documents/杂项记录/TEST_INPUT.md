# ALICE 中文输入测试

## 测试步骤

### 1. 启动应用
```bash
npm run dev
```

### 2. 测试英文输入
```
> Hello ALICE
```
预期：正常输入和显示

### 3. 测试中文输入
```
> 你好 ALICE
> 帮我整理文档
> 测试中文字符删除
```
预期：
- 中文字符正常显示（占2个字符宽度）
- 退格键正确删除中文字符（一次删一个汉字）
- 中英文混合输入正常

### 4. 测试命令历史
```
> 第一条消息
> 第二条消息
按 ↑ 键
```
预期：显示"第二条消息"

### 5. 测试特殊字符
```
> 测试 emoji: 🎉🚀💡
> 测试符号：《》、。！？
```

### 6. 测试基础命令
```
> /help
> /config
> /clear
```

## 已知问题和解决方案

### 问题：中文字符宽度
**解决：** 使用 `Array.from()` 正确处理 Unicode 字符，每个字符作为一个单元处理

### 问题：退格删除中文
**解决：** 使用字符数组而非字节操作，确保一次删除一个完整字符

### 问题：终端光标位置
**解决：** ink 框架自动处理终端渲染和光标位置

## 调试技巧

如果输入异常：
1. 检查终端是否支持 UTF-8 编码
2. 尝试在 VSCode 集成终端运行
3. 检查 `useInput` hook 的事件处理

## 成功标准

✅ 可以输入中文  
✅ 中文显示不错位  
✅ 退格正确删除中文  
✅ 中英文混合输入正常  
✅ 命令历史支持中文  
✅ emoji 和特殊字符正常显示
