---
title: é…ç½®ç®¡ç†
aliases: [é…ç½®ç³»ç»Ÿ, Configuration]
tags: [æŠ€æœ¯æ–‡æ¡£, é…ç½®, ç³»ç»Ÿç®¡ç†]
date: 2026-02-11
version: 1.0.0
status: å·²å®ç°
---

# é…ç½®ç®¡ç†ç³»ç»Ÿ âš™ï¸

> **è®¾è®¡ç†å¿µ**: çµæ´»é…ç½®ã€å¼€ç®±å³ç”¨ã€ç”¨æˆ·å‹å¥½

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

### é…ç½®æ–‡ä»¶ä½ç½®

```
ç”¨æˆ·ä¸»ç›®å½•
â””â”€â”€ .alice/
    â”œâ”€â”€ settings.jsonc       # ä¸»é…ç½®æ–‡ä»¶ (JSONC æ ¼å¼)
    â”œâ”€â”€ system-prompt.txt    # ç³»ç»Ÿæç¤ºè¯
    â””â”€â”€ sessions/            # ä¼šè¯å†å²
        â”œâ”€â”€ session-uuid1.json
        â””â”€â”€ session-uuid2.json
```

### é…ç½®æ ¼å¼

ä½¿ç”¨ **JSONC** (JSON with Comments) æ ¼å¼:
- âœ… æ”¯æŒå•è¡Œæ³¨é‡Š `//`
- âœ… æ”¯æŒå¤šè¡Œæ³¨é‡Š `/* */`
- âœ… æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤
- âœ… å…¼å®¹æ ‡å‡† JSON

## ğŸ¨ é…ç½®æ–‡ä»¶ç»“æ„

### å®Œæ•´é…ç½®ç¤ºä¾‹

```jsonc
{
  // ========== æ¨¡å‹é…ç½® ==========
  
  // é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹
  "default_model": "lmstudio-local",
  
  // ç³»ç»Ÿæ¨èçš„æœ€å¿«æ¨¡å‹ (ç”± --test-model è‡ªåŠ¨æ›´æ–°)
  "suggest_model": "lmstudio-local",
  
  // æ¨¡å‹åˆ—è¡¨é…ç½®
  "models": [
    {
      // æ¨¡å‹åç§° (å”¯ä¸€æ ‡è¯†)
      "name": "lmstudio-local",
      
      // æä¾›å•†ç±»å‹: lmstudio | ollama | openai | azure | custom
      "provider": "lmstudio",
      
      // API åŸºç¡€ URL
      "baseURL": "http://127.0.0.1:1234/v1",
      
      // æ¨¡å‹ ID (ç”±æä¾›å•†å†³å®š)
      "model": "qwen3-vl-4b-instruct",
      
      // API Key (å¯é€‰ï¼Œæœ¬åœ°æ¨¡å‹ä¸éœ€è¦)
      "apiKey": "",
      
      // æ¸©åº¦å‚æ•° (0.0 - 2.0ï¼Œè¶Šé«˜è¶Šéšæœº)
      "temperature": 0.7,
      
      // æœ€å¤§ Token æ•°
      "maxTokens": 2000,
      
      // æœ€åæµ‹é€Ÿæ—¶é—´ (è‡ªåŠ¨æ›´æ–°)
      "last_update_datetime": "2026-02-11T14:30:00.000Z",
      
      // é€Ÿåº¦ (tokens/sï¼Œè‡ªåŠ¨æ›´æ–°)
      "speed": 45.2
    },
    {
      "name": "ollama-local",
      "provider": "ollama",
      "baseURL": "http://localhost:11434/v1",
      "model": "qwen2.5:7b",
      "apiKey": "",
      "temperature": 0.7,
      "maxTokens": 2000,
      "last_update_datetime": null,
      "speed": null
    },
    {
      "name": "openai-gpt4",
      "provider": "openai",
      "baseURL": "https://api.openai.com/v1",
      "model": "gpt-4",
      
      // ä½¿ç”¨ç¯å¢ƒå˜é‡ (æ¨è)
      "apiKey": "${OPENAI_API_KEY}",
      
      "temperature": 0.7,
      "maxTokens": 2000,
      "last_update_datetime": null,
      "speed": null
    },
    {
      "name": "azure-gpt4",
      "provider": "azure",
      "baseURL": "https://your-resource.openai.azure.com/openai/deployments/your-deployment",
      "model": "gpt-4",
      "apiKey": "${AZURE_OPENAI_KEY}",
      "temperature": 0.7,
      "maxTokens": 2000,
      "last_update_datetime": null,
      "speed": null
    }
  ],
  
  // ========== UI é…ç½® ==========
  
  "ui": {
    // Banner åŠ¨ç”»é…ç½®
    "banner": {
      // æ˜¯å¦æ˜¾ç¤º Banner
      "enabled": true,
      
      // åŠ¨ç”»é£æ ¼: minimal | cyberpunk | particle | typewriter
      "style": "minimal"
    },
    
    // ä¸»é¢˜: tech-blue | dark | light
    "theme": "tech-blue"
  },
  
  // ========== å·¥ä½œåŒºé…ç½® ==========
  
  // å½“å‰å·¥ä½œç›®å½• (. è¡¨ç¤ºå½“å‰ç›®å½•)
  "workspace": ".",
  
  // ========== å®‰å…¨é…ç½® ==========
  
  // å±é™©å‘½ä»¤ç¡®è®¤
  // true: æ‰§è¡Œå‰éœ€è¦ç”¨æˆ·ç¡®è®¤ (æ¨è)
  // false: ç›´æ¥æ‰§è¡Œï¼Œä¸éœ€è¦ç¡®è®¤
  "dangerous_cmd": true
}
```

## ğŸ“¦ é…ç½®é¡¹è¯¦è§£

### 1. æ¨¡å‹é…ç½®

#### default_model

**ç±»å‹**: `string`  
**å¿…å¡«**: æ˜¯  
**è¯´æ˜**: é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼Œå¿…é¡»åœ¨ `models` æ•°ç»„ä¸­å­˜åœ¨

**ç¤ºä¾‹**:
```jsonc
"default_model": "lmstudio-local"
```

#### suggest_model

**ç±»å‹**: `string`  
**å¿…å¡«**: å¦  
**è¯´æ˜**: ç³»ç»Ÿæ¨èçš„æœ€å¿«æ¨¡å‹ï¼Œç”± `--test-model` è‡ªåŠ¨æ›´æ–°

**ç”¨é€”**:
- ä½œä¸ºæ™ºèƒ½é™çº§çš„å¤‡ç”¨æ¨¡å‹
- å½“ `default_model` è¿æ¥å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢

#### models

**ç±»å‹**: `ModelConfig[]`  
**å¿…å¡«**: æ˜¯  
**è¯´æ˜**: æ¨¡å‹é…ç½®åˆ—è¡¨

**ModelConfig å­—æ®µ**:

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `name` | string | âœ… | æ¨¡å‹åç§° (å”¯ä¸€æ ‡è¯†) |
| `provider` | Provider | âœ… | æä¾›å•†ç±»å‹ |
| `baseURL` | string | âœ… | API åŸºç¡€ URL |
| `model` | string | âœ… | æ¨¡å‹ ID |
| `apiKey` | string | âŒ | API Key |
| `temperature` | number | âŒ | æ¸©åº¦ (é»˜è®¤ 0.7) |
| `maxTokens` | number | âŒ | æœ€å¤§ Token (é»˜è®¤ 2000) |
| `last_update_datetime` | string | âŒ | æœ€åæµ‹é€Ÿæ—¶é—´ |
| `speed` | number | âŒ | é€Ÿåº¦ (tokens/s) |

**Provider ç±»å‹**:
- `lmstudio` - LM Studio æœ¬åœ°æœåŠ¡
- `ollama` - Ollama æœ¬åœ°æœåŠ¡
- `openai` - OpenAI äº‘æœåŠ¡
- `azure` - Azure OpenAI äº‘æœåŠ¡
- `custom` - è‡ªå®šä¹‰ OpenAI å…¼å®¹æœåŠ¡

### 2. UI é…ç½®

#### banner

**ç±»å‹**: `BannerConfig`  
**è¯´æ˜**: å¯åŠ¨ Banner åŠ¨ç”»é…ç½®

```typescript
interface BannerConfig {
  enabled: boolean;    // æ˜¯å¦æ˜¾ç¤º
  style: BannerStyle;  // åŠ¨ç”»é£æ ¼
}

type BannerStyle = 'minimal' | 'cyberpunk' | 'particle' | 'typewriter';
```

**åŠ¨ç”»é£æ ¼**:
- `minimal` - æç®€åŠ¨ç”» (æ¨èï¼ŒåŠ è½½å¿«)
- `cyberpunk` - èµ›åšæœ‹å…‹é£æ ¼
- `particle` - ç²’å­èšåˆæ•ˆæœ
- `typewriter` - æ‰“å­—æœºæ•ˆæœ

**ç¤ºä¾‹**:
```jsonc
"banner": {
  "enabled": true,
  "style": "minimal"
}
```

**è·³è¿‡ Banner**:
```bash
# å‘½ä»¤è¡Œå‚æ•°ä¼˜å…ˆçº§æ›´é«˜
alice --no-banner
```

#### theme

**ç±»å‹**: `ThemeType`  
**è¯´æ˜**: ä¸»é¢˜é¢œè‰²æ–¹æ¡ˆ

```typescript
type ThemeType = 'tech-blue' | 'dark' | 'light';
```

- `tech-blue` - ç§‘æŠ€è“ä¸»é¢˜ (é»˜è®¤)
- `dark` - æ·±è‰²ä¸»é¢˜
- `light` - æµ…è‰²ä¸»é¢˜

### 3. å·¥ä½œåŒºé…ç½®

#### workspace

**ç±»å‹**: `string`  
**é»˜è®¤**: `"."`  
**è¯´æ˜**: å½“å‰å·¥ä½œç›®å½•ï¼Œå·¥å…·æ‰§è¡Œçš„åŸºç¡€è·¯å¾„

**ç”¨é€”**:
- æ–‡ä»¶æ“ä½œçš„æ ¹ç›®å½•
- è·¯å¾„å®‰å…¨æ£€æŸ¥çš„åŸºå‡†

**ç¤ºä¾‹**:
```jsonc
// ä½¿ç”¨å½“å‰ç›®å½•
"workspace": "."

// ä½¿ç”¨ç»å¯¹è·¯å¾„
"workspace": "/home/user/projects/alice"

// ä½¿ç”¨ç›¸å¯¹è·¯å¾„
"workspace": "../projects"
```

### 4. å®‰å…¨é…ç½®

#### dangerous_cmd

**ç±»å‹**: `boolean`  
**é»˜è®¤**: `true`  
**è¯´æ˜**: æ˜¯å¦å¯¹å±é™©å‘½ä»¤è¿›è¡ŒäºŒæ¬¡ç¡®è®¤

**å±é™©å‘½ä»¤ç¤ºä¾‹**:
- `rm -rf` - å¼ºåˆ¶åˆ é™¤
- `sudo` - ææƒæ“ä½œ
- `chmod 777` - ä¿®æ”¹æƒé™
- `mkfs` - æ ¼å¼åŒ–ç£ç›˜

**è¡Œä¸º**:
- `true`: æ‰§è¡Œå‰å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†
- `false`: ç›´æ¥æ‰§è¡Œ (ä¸æ¨è)

## ğŸ” ç¯å¢ƒå˜é‡

### ä½¿ç”¨ç¯å¢ƒå˜é‡

é…ç½®æ–‡ä»¶æ”¯æŒç¯å¢ƒå˜é‡æ›¿æ¢ï¼Œä½¿ç”¨ `${VAR_NAME}` è¯­æ³•:

```jsonc
{
  "models": [
    {
      "name": "openai-gpt4",
      "apiKey": "${OPENAI_API_KEY}"
    }
  ]
}
```

### è®¾ç½®ç¯å¢ƒå˜é‡

**macOS / Linux**:
```bash
export OPENAI_API_KEY="sk-xxxxx"
export AZURE_OPENAI_KEY="xxxxx"
```

**Windows (PowerShell)**:
```powershell
$env:OPENAI_API_KEY="sk-xxxxx"
$env:AZURE_OPENAI_KEY="xxxxx"
```

**Windows (CMD)**:
```cmd
set OPENAI_API_KEY=sk-xxxxx
set AZURE_OPENAI_KEY=xxxxx
```

### æŒä¹…åŒ–ç¯å¢ƒå˜é‡

**macOS / Linux** (æ·»åŠ åˆ° `~/.bashrc` æˆ– `~/.zshrc`):
```bash
echo 'export OPENAI_API_KEY="sk-xxxxx"' >> ~/.bashrc
source ~/.bashrc
```

**Windows** (ç³»ç»Ÿç¯å¢ƒå˜é‡):
1. ç³»ç»Ÿå±æ€§ â†’ ç¯å¢ƒå˜é‡
2. æ–°å»ºç”¨æˆ·å˜é‡
3. å˜é‡å: `OPENAI_API_KEY`
4. å˜é‡å€¼: `sk-xxxxx`

## ğŸ› ï¸ é…ç½®ç®¡ç†

### åˆå§‹åŒ–é…ç½®

é¦–æ¬¡è¿è¡Œ ALICE æ—¶è‡ªåŠ¨åˆ›å»ºé»˜è®¤é…ç½®:

```bash
alice
# è‡ªåŠ¨åˆ›å»º ~/.alice/settings.jsonc
```

### æŸ¥çœ‹å½“å‰é…ç½®

```bash
# åœ¨ ALICE ä¸­æ‰§è¡Œ
/config
```

### ç¼–è¾‘é…ç½®

**æ‰‹åŠ¨ç¼–è¾‘**:
```bash
# macOS / Linux
nano ~/.alice/settings.jsonc

# Windows
notepad %USERPROFILE%\.alice\settings.jsonc
```

**ä½¿ç”¨ VS Code**:
```bash
code ~/.alice/settings.jsonc
```

### éªŒè¯é…ç½®

ä¿®æ”¹é…ç½®åï¼Œé‡å¯ ALICE å³å¯ç”Ÿæ•ˆã€‚å¦‚æœé…ç½®æœ‰è¯¯ï¼ŒALICE ä¼šæç¤ºé”™è¯¯ä¿¡æ¯ã€‚

```bash
# é‡å¯ ALICE
alice
```

## âš¡ æ¨¡å‹æµ‹é€Ÿ

### æµ‹é€Ÿå‘½ä»¤

```bash
alice --test-model
```

### æµ‹é€Ÿè¿‡ç¨‹

1. è¯»å– `models` é…ç½®
2. é€ä¸ªæµ‹è¯•æ¯ä¸ªæ¨¡å‹
3. å‘é€æµ‹è¯•æ¶ˆæ¯ï¼Œè®¡ç®—å“åº”é€Ÿåº¦
4. æ›´æ–° `speed` å’Œ `last_update_datetime`
5. è‡ªåŠ¨è®¾ç½®æœ€å¿«æ¨¡å‹ä¸º `suggest_model`

### æµ‹é€Ÿè¾“å‡º

```
ğŸ§ª å¼€å§‹æµ‹è¯•æ¨¡å‹æ€§èƒ½...

[1/3] æµ‹è¯• lmstudio-local...
  âœ… è¿æ¥æˆåŠŸ
  âš¡ é€Ÿåº¦: 45.2 tokens/s

[2/3] æµ‹è¯• ollama-local...
  âœ… è¿æ¥æˆåŠŸ
  âš¡ é€Ÿåº¦: 38.7 tokens/s

[3/3] æµ‹è¯• openai-gpt4...
  âŒ è¿æ¥å¤±è´¥ (API Key æœªè®¾ç½®)

ğŸ“Š æµ‹é€Ÿç»“æœ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨¡å‹            â”‚ çŠ¶æ€     â”‚ é€Ÿåº¦        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ lmstudio-local  â”‚ âœ… æ­£å¸¸  â”‚ 45.2 tok/s  â”‚
â”‚ ollama-local    â”‚ âœ… æ­£å¸¸  â”‚ 38.7 tok/s  â”‚
â”‚ openai-gpt4     â”‚ âŒ å¤±è´¥  â”‚ -           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ† æ¨èæ¨¡å‹: lmstudio-local (æœ€å¿«)
âœ… é…ç½®å·²æ›´æ–°
```

### è‡ªåŠ¨æ›´æ–°é…ç½®

æµ‹é€Ÿå `settings.jsonc` ä¼šè‡ªåŠ¨æ›´æ–°:

```jsonc
{
  "suggest_model": "lmstudio-local",
  "models": [
    {
      "name": "lmstudio-local",
      "speed": 45.2,
      "last_update_datetime": "2026-02-11T14:30:00.000Z"
    }
  ]
}
```

## ğŸ”„ æ™ºèƒ½é™çº§

### é™çº§æœºåˆ¶

å½“ `default_model` è¿æ¥å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ° `suggest_model`:

```
âš ï¸  ä¸»æ¨¡å‹ (openai-gpt4) è¿æ¥å¤±è´¥
ğŸ”„ å·²è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æ¨¡å‹ (lmstudio-local)
ğŸ’¡ æç¤º: è¿è¡Œ 'alice --test-model' é‡æ–°æµ‹é€Ÿå¹¶æ›´æ–°æ¨èæ¨¡å‹
```

### é™çº§æµç¨‹

```mermaid
flowchart TD
    A[ç”¨æˆ·å‘é€æ¶ˆæ¯] --> B{ä¸»æ¨¡å‹å¯ç”¨?}
    B -->|æ˜¯| C[ä½¿ç”¨ä¸»æ¨¡å‹]
    B -->|å¦| D{æœ‰å¤‡ç”¨æ¨¡å‹?}
    D -->|æ˜¯| E[åˆ‡æ¢åˆ°å¤‡ç”¨æ¨¡å‹]
    D -->|å¦| F[æ˜¾ç¤ºé”™è¯¯]
    E --> G[æ˜¾ç¤ºé™çº§æç¤º]
    G --> H[ä½¿ç”¨å¤‡ç”¨æ¨¡å‹å“åº”]
    C --> I[æ­£å¸¸å“åº”]
```

## ğŸ“ é…ç½®æœ€ä½³å®è·µ

### 1. API Key å®‰å…¨

âŒ **ä¸æ¨è** (ç›´æ¥å†™åœ¨é…ç½®æ–‡ä»¶):
```jsonc
{
  "apiKey": "sk-xxxxxxxxxxxxx"  // å®¹æ˜“æ³„éœ²
}
```

âœ… **æ¨è** (ä½¿ç”¨ç¯å¢ƒå˜é‡):
```jsonc
{
  "apiKey": "${OPENAI_API_KEY}"  // å®‰å…¨
}
```

### 2. å¤šæ¨¡å‹é…ç½®

ä¸ºä¸åŒåœºæ™¯é…ç½®å¤šä¸ªæ¨¡å‹:

```jsonc
{
  "models": [
    {
      "name": "fast-local",      // å¿«é€Ÿå“åº”
      "model": "qwen3-vl-4b",
      "temperature": 0.5
    },
    {
      "name": "quality-local",   // é«˜è´¨é‡
      "model": "qwen3-vl-14b",
      "temperature": 0.7
    },
    {
      "name": "cloud-backup",    // äº‘ç«¯å¤‡ä»½
      "provider": "openai",
      "model": "gpt-4"
    }
  ]
}
```

### 3. å®šæœŸæµ‹é€Ÿ

å»ºè®®æ¯å‘¨è¿è¡Œä¸€æ¬¡ `--test-model`:
- ç½‘ç»œç¯å¢ƒå¯èƒ½å˜åŒ–
- æ¨¡å‹å¯èƒ½æ›´æ–°
- ç¡®ä¿æœ€ä½³æ€§èƒ½

### 4. å¤‡ä»½é…ç½®

åœ¨ä¿®æ”¹é…ç½®å‰å¤‡ä»½:

```bash
cp ~/.alice/settings.jsonc ~/.alice/settings.jsonc.backup
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æä¾›å•†

ä½¿ç”¨ `custom` æä¾›å•†è¿æ¥ä»»ä½• OpenAI å…¼å®¹ API:

```jsonc
{
  "name": "my-custom-llm",
  "provider": "custom",
  "baseURL": "https://my-api.com/v1",
  "model": "my-model-name",
  "apiKey": "${MY_API_KEY}",
  "temperature": 0.7,
  "maxTokens": 2000
}
```

### æ¸©åº¦å‚æ•°è°ƒä¼˜

| åœºæ™¯ | æ¨èæ¸©åº¦ | è¯´æ˜ |
|------|---------|------|
| ä»£ç ç”Ÿæˆ | 0.2 - 0.4 | éœ€è¦ç²¾ç¡®æ€§ |
| æ–‡æ¡£å†™ä½œ | 0.5 - 0.7 | å¹³è¡¡åˆ›é€ æ€§ |
| åˆ›æ„å†™ä½œ | 0.8 - 1.2 | éœ€è¦å¤šæ ·æ€§ |
| æ•°æ®åˆ†æ | 0.1 - 0.3 | éœ€è¦ä¸€è‡´æ€§ |

## ğŸ“š é…ç½®æ–‡ä»¶æ¨¡æ¿

### æœ€å°é…ç½®

```jsonc
{
  "default_model": "lmstudio-local",
  "models": [
    {
      "name": "lmstudio-local",
      "provider": "lmstudio",
      "baseURL": "http://127.0.0.1:1234/v1",
      "model": "your-model-name",
      "apiKey": ""
    }
  ]
}
```

### å®Œæ•´é…ç½® (ç”Ÿäº§ç¯å¢ƒ)

è§æœ¬æ–‡æ¡£å¼€å¤´çš„ **å®Œæ•´é…ç½®ç¤ºä¾‹**

---

**[[äº§å“éœ€æ±‚æ–‡æ¡£|è¿”å› PRD ä¸»é¡µ]]** | **[[æŠ€æœ¯æ¶æ„|æŠ€æœ¯æ¶æ„è¯¦æƒ…]]**
